<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/public.css" />
		<link rel="stylesheet" href="css/zhuce.css" />
	</head>
	<body>
		<div id="head">
			<div id="head-l">
				<img src="img/logo1.png" />
				<span>中关村在线旗下网上商城</span>
			</div>
			<div id="head-r">
				<p>已有ZOL商城账户?<span><a href="http://127.0.0.1:8020/53-孙中元/SY/landing-page.html?">立即登录</a></span></p>
			</div>
		</div>
		<div id="main">
			<div id="main-t">
				<span>三十秒快速注册，加入ZOL商城</span>
			</div>
			<div id="main-b">
				<div id="main-b-l">
					<div id="main-b-l-on">
						<p>
							用手机号注册
						</p>
					</div>
					<div id="main-b-l-tw">
						<div id="ain-b-l-tw-on">
							<div class="zcinput">
								<em class="hx">*</em>
								手机号：
							</div>
							<input type="text" id="txt" class="text" />
							<span class="ts" id="sp1"></span>
							<div class="ts1">请填写手机号码</div>
						</div>
						<div id="ain-b-l-tw-tw">
							<div class="zcinput">
								<em class="hx">*</em>
								验证码：
							</div>
							<input type="text" id="txt1" class="text" />
							<span id="sp2"></span>
							<span id="sp2-2">看不清，换一张</span>
							<div class="ts1">请填写图片验证码</div>
						</div>
						<div id="ain-b-l-tw-th">
							<div class="zcinput">
								<em class="hx">*</em>
								验证码：
							</div>
							<input type="text" id="txt2" class="text" />
							<span id="sp3">获取短信验证码</span>							
							<div class="ts1">请填写手机号码，然后点击[获取验证码]</div>
						</div>
						<div id="ain-b-l-tw-fo">
							<div class="zcinput">
								<em class="hx">*</em>
								密码：
							</div>
							<input type="text" id="txt3" class="text" />
							<span class="ts" id="sp4"></span>
							<div class="ts1">6-16位字母和数字的组合，不可用特殊字符</div>
						</div>
						<div id="ain-b-l-tw-fi">
							<div class="zcinput">
								<em class="hx">*</em>
								确认密码：
							</div>
							<input type="text" id="txt4" class="text" />
							<span class="ts" id="sp5"></span>
							<div class="ts1">再次输入密码</div>
						</div>
						<div id="ain-b-l-tw-si">
							<input type="checkbox" id="chb"/>
							<span>同意</span>
							<a href="#">《商城用户协议》</a>
							<a href="#">《隐私权说明》</a>
						</div>
						<div id="ain-b-l-tw-se">
							<input type="button" id="btn" value="注册" />
						</div>
					</div>
				</div>
				<div id="main-b-r">
					<p>如果您已经注册，请  <a href="http://127.0.0.1:8020/53-孙中元/SY/landing-page.html?">直接登录</a></p>
					<p> 或者用以下方式登录</p>
					<img src="img/zc1.png" />
				</div>
			</div>
		</div>
		<div id="foot">
			<div id="foot-m">
				<ul>
					<li><a href="#">关于ZOL商城</a></li>
					<li><a href="#">联系我们</a></li>
					<li><a href="#">帮助中心</a></li>
				</ul>
				<span>&copy;2015. 中关村在线  版权所有</span>
			</div>
		</div>
	</body>
	<script>
		window.onload=function(){
			foo();
		}
		$("sp2-2").onclick=function(){
			foo();
		}
		function foo(){
			var str="";
			for(var i=0; i<5; i++){
				var arr=[String.fromCharCode(rand(65,90)),String.fromCharCode(rand(48,57))]
				str+=arr[rand(0,1)]
			}
			$("sp2").innerHTML=str;
		}
		function rand(min,max){
			return Math.floor(Math.random()*(max-min+1)+min);
		}
		function $(id){
			return document.getElementById(id)
		}
		var flag=false;
		$("txt").onblur=function(){
			var num=$("txt").value;
			var res=/^1\d{10}$/;
			if(num==""){
				$("sp1").innerHTML="请填写手机号码";
				flag=false;
			}else if(!res.test(num)){
				$("sp1").innerHTML="请填写有效的11位手机号码";
				flag=false;
			}else{
				$("sp1").innerHTML="";
				flag=true;
			}
		}
		var flag2=false;
		$("txt1").onblur=function(){
			if($("txt1").value==$("sp2").innerHTML){
				flag2=true;
			}else{
				flag2=false;
			}
		}
		var flag3=false;
		$("txt3").onblur=function(){
			var num=$("txt3").value;
			var res=/^(\d|[a-z]|[A-Z]){6,16}$/;
			if(!res.test(num)){
				$("sp4").innerHTML="6-16位字符，可使用字母、数字或符号的组合";
				flag3=false;
			}else{
				$("sp4").innerHTML="";
				flag3=true;
			}
		}
		var flag1=false;
		$("txt4").onblur=function(){
			var num=$("txt3").value;
			var num1=$("txt4").value;
			if(num==num1){
				$("sp5").innerHTML="";
				flag1=true;
			}else{
				$("sp5").innerHTML="两次密码不一致";
				flag1=false;
			}
		}
		$("btn").onclick=function(){
			if(!$("chb").checked){
				alert("请先阅读用户协议");
				return false;
			}else if($("txt").value==""){
				$("sp1").innerHTML="请填写手机号码";
				return false
			}else if($("txt3").value==""){
				$("sp4").innerHTML="请设置密码";
				return false
			}else if($("txt4").value==""){
				$("sp5").innerHTML="请确认密码";
				return false
			}
			if($("chb").checked && flag && flag1 &&flag2 &&flag3){
				document.cookie="uname="+$("txt").value;
				document.cookie="upwd="+$("txt3").value;
				alert("注册成功")
				return true;
			}
		}
	</script>
</html>
